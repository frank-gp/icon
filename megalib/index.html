<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./icons.css" />
    <link rel="stylesheet" href="./styles.css" />

    <title>Mega Icons</title>
  </head>
  <body>
    <h1>Mega Icons</h1>
    <div class="controls">
      <input type="text" id="searchInput" class="search-input" placeholder="Buscar iconos..." />
      <div class="control-panel">
        <input type="checkbox" id="jsxToggle" checked />
        <label for="jsxToggle">Copiar como JSX (usa className)</label>
      </div>
    </div>

    <main class="icons-container">
      <div class="icon-box"><span class="icon airplay-mto"></span></div>
      <div class="icon-box"><span class="icon alert-triangle-sro"></span></div>
      <div class="icon-box"><span class="icon archive-arrow-up-mto"></span></div>
      <div class="icon-box"><span class="icon arrow-left-mro"></span></div>
      <div class="icon-box"><span class="icon arrow-right-mro"></span></div>
      <div class="icon-box"><span class="icon atom-mro"></span></div>
      <div class="icon-box"><span class="icon atom-mto"></span></div>
      <div class="icon-box"><span class="icon bell-ringing-mto"></span></div>
      <div class="icon-box"><span class="icon bucket-triangle-mro"></span></div>
      <div class="icon-box"><span class="icon calendar-01-mro"></span></div>
      <div class="icon-box"><span class="icon cast-mto"></span></div>
      <div class="icon-box"><span class="icon check-mro"></span></div>
      <div class="icon-box"><span class="icon check-circle-mro"></span></div>
      <div class="icon-box"><span class="icon check-circle-mto"></span></div>
      <div class="icon-box"><span class="icon chevrons-left-sro"></span></div>
      <div class="icon-box"><span class="icon chevrons-right-sro"></span></div>
      <div class="icon-box"><span class="icon chevron-down-mro"></span></div>
      <div class="icon-box"><span class="icon chevron-left-sro"></span></div>
      <div class="icon-box"><span class="icon chevron-right-sro"></span></div>
      <div class="icon-box"><span class="icon chevron-up-mro"></span></div>
      <div class="icon-box"><span class="icon clock-rotate-mto"></span></div>
      <div class="icon-box"><span class="icon cloud-mro"></span></div>
      <div class="icon-box"><span class="icon cloud-mrs"></span></div>
      <div class="icon-box"><span class="icon cloud-mto"></span></div>
      <div class="icon-box"><span class="icon cloud-download-mto"></span></div>
      <div class="icon-box"><span class="icon cloud-upload-mro"></span></div>
      <div class="icon-box"><span class="icon cloud-upload-mto"></span></div>
      <div class="icon-box"><span class="icon code-mro"></span></div>
      <div class="icon-box"><span class="icon code-browser-mro"></span></div>
      <div class="icon-box"><span class="icon code-browser-mto"></span></div>
      <div class="icon-box"><span class="icon copy-mro"></span></div>
      <div class="icon-box"><span class="icon crown-mto"></span></div>
      <div class="icon-box"><span class="icon currency-dollar-circle-mro"></span></div>
      <div class="icon-box"><span class="icon currency-dollar-circle-mto"></span></div>
      <div class="icon-box"><span class="icon database-mro"></span></div>
      <div class="icon-box"><span class="icon database-mto"></span></div>
      <div class="icon-box"><span class="icon edit-3-mto"></span></div>
      <div class="icon-box"><span class="icon emoji-happy-mto"></span></div>
      <div class="icon-box"><span class="icon emoji-smile-mto"></span></div>
      <div class="icon-box"><span class="icon emoji-wink-mto"></span></div>
      <div class="icon-box"><span class="icon expand-mro"></span></div>
      <div class="icon-box"><span class="icon expand-mto"></span></div>
      <div class="icon-box"><span class="icon file-attachment-02-mro"></span></div>
      <div class="icon-box"><span class="icon file-edit-mro"></span></div>
      <div class="icon-box"><span class="icon file-edit-mto"></span></div>
      <div class="icon-box"><span class="icon file-text-mro"></span></div>
      <div class="icon-box"><span class="icon file-text-mto"></span></div>
      <div class="icon-box"><span class="icon file-upload-mto"></span></div>
      <div class="icon-box"><span class="icon filter-mro"></span></div>
      <div class="icon-box"><span class="icon folder-arrow-01-mto"></span></div>
      <div class="icon-box"><span class="icon folder-lock-mro"></span></div>
      <div class="icon-box"><span class="icon folder-mro"></span></div>
      <div class="icon-box"><span class="icon folder-sync-mto"></span></div>
      <div class="icon-box"><span class="icon globe-01-mro"></span></div>
      <div class="icon-box"><span class="icon globe-02-mto"></span></div>
      <div class="icon-box"><span class="icon globe-americas-mto"></span></div>
      <div class="icon-box"><span class="icon globe-eurafrica-mro"></span></div>
      <div class="icon-box"><span class="icon globe-eurafrica-mto"></span></div>
      <div class="icon-box"><span class="icon hard-drive-mro"></span></div>
      <div class="icon-box"><span class="icon headset-mro"></span></div>
      <div class="icon-box"><span class="icon headset-mto"></span></div>
      <div class="icon-box"><span class="icon heart-mto"></span></div>
      <div class="icon-box"><span class="icon help-circle-mro"></span></div>
      <div class="icon-box"><span class="icon image-01-mto"></span></div>
      <div class="icon-box"><span class="icon info-mro"></span></div>
      <div class="icon-box"><span class="icon key-01-mro"></span></div>
      <div class="icon-box"><span class="icon key-01-mto"></span></div>
      <div class="icon-box"><span class="icon lightbulb-mro"></span></div>
      <div class="icon-box"><span class="icon link-01-mro"></span></div>
      <div class="icon-box"><span class="icon lock-mro"></span></div>
      <div class="icon-box"><span class="icon lock-mto"></span></div>
      <div class="icon-box"><span class="icon mail-mto"></span></div>
      <div class="icon-box"><span class="icon map-pin-mto"></span></div>
      <div class="icon-box"><span class="icon mega-mto"></span></div>
      <div class="icon-box"><span class="icon menu-mro"></span></div>
      <div class="icon-box"><span class="icon message-check-mto"></span></div>
      <div class="icon-box"><span class="icon message-circle-mto"></span></div>
      <div class="icon-box"><span class="icon message-square-mro"></span></div>
      <div class="icon-box"><span class="icon minus-mro"></span></div>
      <div class="icon-box"><span class="icon minus-circle-mro"></span></div>
      <div class="icon-box"><span class="icon monitor-mro"></span></div>
      <div class="icon-box"><span class="icon monitor-mto"></span></div>
      <div class="icon-box"><span class="icon moon-mro"></span></div>
      <div class="icon-box"><span class="icon more-horizontal-mro"></span></div>
      <div class="icon-box"><span class="icon move-mto"></span></div>
      <div class="icon-box"><span class="icon objects-mro"></span></div>
      <div class="icon-box"><span class="icon palette-mto"></span></div>
      <div class="icon-box"><span class="icon password-mro"></span></div>
      <div class="icon-box"><span class="icon password-mto"></span></div>
      <div class="icon-box"><span class="icon play-square-mto"></span></div>
      <div class="icon-box"><span class="icon plus-mro"></span></div>
      <div class="icon-box"><span class="icon plus-circle-mro"></span></div>
      <div class="icon-box"><span class="icon plus-circle-mto"></span></div>
      <div class="icon-box"><span class="icon printer-mro"></span></div>
      <div class="icon-box"><span class="icon printer-mto"></span></div>
      <div class="icon-box"><span class="icon rocket-mto"></span></div>
      <div class="icon-box"><span class="icon search-sro"></span></div>
      <div class="icon-box"><span class="icon server-mto"></span></div>
      <div class="icon-box"><span class="icon share-mro"></span></div>
      <div class="icon-box"><span class="icon share-mto"></span></div>
      <div class="icon-box"><span class="icon shield-mro"></span></div>
      <div class="icon-box"><span class="icon shield-mto"></span></div>
      <div class="icon-box"><span class="icon sliders-horizontal-01-mro"></span></div>
      <div class="icon-box"><span class="icon sliders-vertical-01-mto"></span></div>
      <div class="icon-box"><span class="icon star-mto"></span></div>
      <div class="icon-box"><span class="icon star-spark-mto"></span></div>
      <div class="icon-box"><span class="icon sun-mro"></span></div>
      <div class="icon-box"><span class="icon sync-mro"></span></div>
      <div class="icon-box"><span class="icon sync-mto"></span></div>
      <div class="icon-box"><span class="icon user-circle-mto"></span></div>
      <div class="icon-box"><span class="icon user-plus-mto"></span></div>
      <div class="icon-box"><span class="icon users-mro"></span></div>
      <div class="icon-box"><span class="icon users-mto"></span></div>
      <div class="icon-box"><span class="icon video-mro"></span></div>
      <div class="icon-box"><span class="icon video-mto"></span></div>
      <div class="icon-box"><span class="icon x-mro"></span></div>
      <div class="icon-box"><span class="icon x-mto"></span></div>
      <div class="icon-box"><span class="icon zap-mro"></span></div>
      <div class="icon-box"><span class="icon zap-mto"></span></div>
      <div class="icon-box"><span class="icon zap-off-mro"></span></div>
      <div class="icon-box"><span class="icon zap-off-mto"></span></div>
      <div class="icon-box"><span class="icon arrow-left"></span></div>
      <div class="icon-box"><span class="icon arrow-right"></span></div>
      <div class="icon-box"><span class="icon check"></span></div>
      <div class="icon-box"><span class="icon check-circle"></span></div>
      <div class="icon-box"><span class="icon cloud"></span></div>
      <div class="icon-box"><span class="icon code"></span></div>
      <div class="icon-box"><span class="icon copy"></span></div>
      <div class="icon-box"><span class="icon database"></span></div>
      <div class="icon-box"><span class="icon file-filter"></span></div>
      <div class="icon-box"><span class="icon globe"></span></div>
      <div class="icon-box"><span class="icon info"></span></div>
      <div class="icon-box"><span class="icon mail"></span></div>
      <div class="icon-box"><span class="icon map-pin"></span></div>
      <div class="icon-box"><span class="icon menu"></span></div>
      <div class="icon-box"><span class="icon minus"></span></div>
      <div class="icon-box"><span class="icon plus"></span></div>
      <div class="icon-box"><span class="icon plus-circle"></span></div>
      <div class="icon-box"><span class="icon search"></span></div>
      <div class="icon-box"><span class="icon share"></span></div>
      <div class="icon-box"><span class="icon shield"></span></div>
      <div class="icon-box"><span class="icon sync"></span></div>
      <div class="icon-box"><span class="icon x"></span></div>
      <div class="icon-box"><span class="icon android"></span></div>
      <div class="icon-box"><span class="icon brain"></span></div>
      <div class="icon-box"><span class="icon bug"></span></div>
      <div class="icon-box"><span class="icon c-plus-plus"></span></div>
      <div class="icon-box"><span class="icon CMD"></span></div>
      <div class="icon-box"><span class="icon copyright"></span></div>
      <div class="icon-box"><span class="icon extension"></span></div>
      <div class="icon-box"><span class="icon hand"></span></div>
      <div class="icon-box"><span class="icon iOS"></span></div>
      <div class="icon-box"><span class="icon lifebuoy"></span></div>
      <div class="icon-box"><span class="icon lightbulb"></span></div>
      <div class="icon-box"><span class="icon media"></span></div>
      <div class="icon-box"><span class="icon mega-sync"></span></div>
      <div class="icon-box"><span class="icon privacy"></span></div>
      <div class="icon-box"><span class="icon scale"></span></div>
      <div class="icon-box"><span class="icon SDK"></span></div>
      <div class="icon-box"><span class="icon shield-duotone"></span></div>
      <div class="icon-box"><span class="icon thunderbird"></span></div>
      <div class="icon-box"><span class="icon tm"></span></div>
      <div class="icon-box"><span class="icon web"></span></div>
      <div class="icon-box"><span class="icon social-facebook"></span></div>
      <div class="icon-box"><span class="icon social-instagram"></span></div>
      <div class="icon-box"><span class="icon social-linkedin"></span></div>
      <div class="icon-box"><span class="icon social-threads"></span></div>
      <div class="icon-box"><span class="icon social-x"></span></div>
      <div class="icon-box"><span class="icon social-youtube"></span></div>
      <div class="icon-box"><span class="icon rectangle-748"></span></div>
      <div class="icon-box"><span class="icon rss"></span></div>
      <div class="icon-box"><span class="icon union-start"></span></div>
    </main>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const iconBoxes = document.querySelectorAll(".icon-box");
        const jsxToggle = document.getElementById("jsxToggle");
        const searchInput = document.getElementById("searchInput"); // <-- Nuevo: Referencia al campo de búsqueda

        // Función para filtrar iconos
        const filterIcons = () => {
          const searchTerm = searchInput.value.toLowerCase(); // Obtener el término de búsqueda en minúsculas

          iconBoxes.forEach((iconBox) => {
            // Obtener el nombre del icono del párrafo .icon-name o de la clase del span.icon
            const iconNameElement = iconBox.querySelector(".icon-name");
            let iconName = iconNameElement ? iconNameElement.textContent.toLowerCase() : ""; // <-- Aquí está el cambio

            // Si no hay .icon-name, intenta obtener de la clase del span.icon (menos fiable)
            if (!iconName && iconBox.querySelector(".icon")) {
              const iconClasses = Array.from(iconBox.querySelector(".icon").classList);
              // Filtra las clases que no son 'icon' y usa la primera que quede como nombre
              const specificIconClass = iconClasses.find((cls) => cls !== "icon");
              if (specificIconClass) {
                // Limpia el nombre si tiene sufijos como -mto, -mro, -sro
                iconName = specificIconClass.replace(/-(mto|mro|sro)$/, "");
              }
            }

            // Comprobar si el nombre del icono incluye el término de búsqueda
            if (iconName.includes(searchTerm)) {
              iconBox.classList.remove("hidden"); // Mostrar el icono
            } else {
              iconBox.classList.add("hidden"); // Ocultar el icono
            }
          });
        };

        // Event Listener para el campo de búsqueda
        searchInput.addEventListener("input", filterIcons);

        // Event Listener para la copia de iconos (el mismo que ya tenías)
        iconBoxes.forEach((iconBox) => {
          iconBox.addEventListener("click", async () => {
            let htmlToCopy = iconBox.outerHTML;

            if (jsxToggle.checked) {
              htmlToCopy = htmlToCopy.replace(/class=/g, "className=");
            }

            try {
              await navigator.clipboard.writeText(htmlToCopy);
              console.log("Elemento copiado al portapapeles:", htmlToCopy);
              alert("¡Elemento copiado al portapapeles!");
            } catch (err) {
              console.error("Error al copiar el elemento:", err);
              alert("Error al copiar el elemento. Por favor, intenta de nuevo.");
            }
          });
        });

        // Llamar a filterIcons al cargar la página para asegurar que todo esté visible inicialmente
        filterIcons();
      });
    </script>
  </body>
</html>
